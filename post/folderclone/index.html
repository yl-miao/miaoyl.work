<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>通过Folderclone绕过Google Drive单日750GB限制 - Yilin Miao</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="Yilin Miao"><meta name=description content="Google Drive单日最大拷贝750GB，很不方便。Folderclone原理是通过Google Cloud项目创建100个服务账户，每个账户都设置成团队盘内容管理员，每个管理员也有750GB的限额，通过脚本自动拷贝到团队盘并在超额后自动切换账号。然后数据可以保存在私人的团队盘或者移动到自己的盘。"><meta name=keywords content="Yilin Miao,Yilin Miao blog"><link rel=canonical href=https://miaoyl.work/post/folderclone/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.955e3a96a4d67ee931977ca2684c5a5ecbaa23a3eb977819ef3371b0e53205ec.css rel=stylesheet><meta property="og:title" content="通过Folderclone绕过Google Drive单日750GB限制"><meta property="og:description" content="Google Drive单日最大拷贝750GB，很不方便。Folderclone原理是通过Google Cloud项目创建100个服务账户，每个账户都设置成团队盘内容管理员，每个管理员也有750GB的限额，通过脚本自动拷贝到团队盘并在超额后自动切换账号。然后数据可以保存在私人的团队盘或者移动到自己的盘。"><meta property="og:type" content="article"><meta property="og:url" content="https://miaoyl.work/post/folderclone/"><meta property="article:published_time" content="2020-06-09T17:03:33+08:00"><meta property="article:modified_time" content="2020-06-09T17:03:33+08:00"><meta itemprop=name content="通过Folderclone绕过Google Drive单日750GB限制"><meta itemprop=description content="Google Drive单日最大拷贝750GB，很不方便。Folderclone原理是通过Google Cloud项目创建100个服务账户，每个账户都设置成团队盘内容管理员，每个管理员也有750GB的限额，通过脚本自动拷贝到团队盘并在超额后自动切换账号。然后数据可以保存在私人的团队盘或者移动到自己的盘。"><meta itemprop=datePublished content="2020-06-09T17:03:33+08:00"><meta itemprop=dateModified content="2020-06-09T17:03:33+08:00"><meta itemprop=wordCount content="2458"><meta itemprop=keywords content="autorclone,Google Drive,"><meta name=twitter:card content="summary"><meta name=twitter:title content="通过Folderclone绕过Google Drive单日750GB限制"><meta name=twitter:description content="Google Drive单日最大拷贝750GB，很不方便。Folderclone原理是通过Google Cloud项目创建100个服务账户，每个账户都设置成团队盘内容管理员，每个管理员也有750GB的限额，通过脚本自动拷贝到团队盘并在超额后自动切换账号。然后数据可以保存在私人的团队盘或者移动到自己的盘。"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>Yilin Miao</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>Yilin Miao</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>通过Folderclone绕过Google Drive单日750GB限制</h1><div class=post-meta><span class=post-time>2020-06-09</span><div class=post-category><a href=/categories/tech/>tech</a></div></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a href=#先在本地安装folderclone>先在本地安装Folderclone</a></li><li><a href=#开启drive-api服务>开启Drive API服务</a></li><li><a href=#创建sa机器人添加成员到团队盘>创建SA机器人、添加成员到团队盘</a></li><li><a href=#使用foldeclone>使用Foldeclone</a></li><li><a href=#共享云端硬盘转移到我的云端硬盘>共享云端硬盘转移到我的云端硬盘</a></li><li><a href=#写在最后>写在最后</a><ul><li><a href=#数据无价备份数据至少做到3-2-1-原则>数据无价。备份数据至少做到：3-2-1 原则</a></li></ul></li><li><a href=#延伸>延伸</a></li></ul></nav></div></div><div class=post-content><p>Google Drive单日最大拷贝750GB，很不方便。Folderclone原理是通过Google Cloud项目创建100个服务账户，每个账户都设置成团队盘内容管理员，每个管理员也有750GB的限额，通过脚本自动拷贝到团队盘并在超额后自动切换账号。然后数据可以保存在私人的团队盘或者移动到自己的盘。</p><p>每个项目最多可以创建100个服务帐户。所以每个项目的复制容量是75tb。复制需要至少2个项目。</p><h2 id=先在本地安装folderclone>先在本地安装Folderclone</h2><p><a href=https://github.com/Spazzlo/folderclone/archive/master.zip>下载最新源码</a>并解压，并以管理员身份在终端中：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=c1># 进入folderclone解压根目录</span>
pip install folderclone
</code></pre></td></tr></table></div></div><h2 id=开启drive-api服务>开启Drive API服务</h2><p>打开<a href=https://developers.google.com/drive/api/v3/quickstart/python>Python Quickstart</a> 点击<code>Enable the Drive API</code>，默认选择Deskto App然后<code>DOWNLOAD CLIENT CONFIGUIRATION</code>。</p><p>会下载一个<code>credentials.json</code>的文件，把<code>credentials.json</code>剪切到folderclone解压根目录。</p><p>在终端上：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>multimanager interactive
</code></pre></td></tr></table></div></div><p>然后登录，赋予权限。直到浏览器提示<code>The authentication flow has completed. You may close this window.</code></p><p>接着在终端里复制显示出的三个链接，均登录赋予权限，启用API 和服务【Service Usage API】、【Cloud Resource Manager API】、【Cloud Resource Manager API】完成后按<code>Enter</code>回车键，将出现Multi Manager提示。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>Multi Manager
mm&gt;
</code></pre></td></tr></table></div></div><h2 id=创建sa机器人添加成员到团队盘>创建SA机器人、添加成员到团队盘</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>mm&gt; quick-setup N SHARED_DRIVE_ID
</code></pre></td></tr></table></div></div><p><code>N</code>是要使用的项目数量，<code>SHARED_DRIVE_ID</code>是要复制到的共享驱动器的ID。可直接申请的几个团队盘网上很多。</p><p>复制<code>N</code>至少需要2个项目，共享驱动器的ID可以在申请团队共享盘之后打开，在浏览器复制网址最后的一串字母。例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>mm&gt; quick-setup <span class=m>2</span> 0AKqujK7R10w9Uk9PVA
Creating <span class=m>2</span> projects.
Enabling services.
Creating Service Accounts in mm-q1n5s5q0tenwkm6i-844bj5-43n
Creating Service Account keys in mm-q1n5s5q0tenwkm6i-844bj5-43n
Creating Service Accounts in mm-bj81pc594lhe8z4rr1jkk0871k5
Creating Service Account keys in mm-bj81pc594lhe8z4rr1jkk0871k5
Fetching emails.
Adding <span class=m>200</span> users  <span class=c1>#按回车键</span>
Done.
mm&gt;
</code></pre></td></tr></table></div></div><h2 id=使用foldeclone>使用Foldeclone</h2><p>在服务器上运行需先把刚才在<code>accounts</code>文件夹下生成的文件打包，用<code>rz</code>上传到<code>~/folderclone/accounts</code>并且解压，再把<code>credentials.json</code>用<code>rz</code>上传到<code>~/folderclone</code>。然后：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash><span class=nb>cd</span> ~/folderclone
multifolderclone -s SOURCE_FOLDER_ID -d DESTINATION_FOLDER_ID
</code></pre></td></tr></table></div></div><p><code>SOURCE_FOLDER_ID</code>是要复制的文件夹的ID，DESTINATION_FOLDER_ID`是要复制到的文件夹的ID。这可以是共享驱动器的ID，也可以是共享驱动器中的文件夹。</p><p>这些可以在screen里运行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>screen -S folderclone
<span class=c1>#干活</span>
<span class=c1>#ctrl+a+d退出</span>
screen -S folderclone
</code></pre></td></tr></table></div></div><p>但是这个比rclone快的，因为不是边下载边上传，而是通过API让服务端自己复制。也可以在本地运行。</p><h2 id=共享云端硬盘转移到我的云端硬盘>共享云端硬盘转移到我的云端硬盘</h2><p>在网页里浏览到团队盘，要转移的文件夹，右键，移至自己的盘就好。这样所有者会变成<code>我</code>，且会占用<code>我</code>的网盘空间大小。如果自己的盘不是无限存储空间的话，注意别把自己的盘撑爆了。</p><p>这样只能移至，相当于剪切，不能复制。这样移动不占用管理员24小时750G的限制，就是假如你今天已经直接拿自己的账号使用Copy, URL to Google Drive之类的拷贝了750G的数据，也可以接着这么移动，而且这么移动的是数据不是创建链接。</p><p>还有更麻烦的办法需要把刚才生成的200个邮箱提取出来加到谷歌群组里再给权限，不弄了。这样最简单。</p><h2 id=写在最后>写在最后</h2><p>综上，这样相当于通过<code>共享链接->私人申请的团队盘->自己的盘</code>达到了绕过限制拷贝数据。</p><p>转移到自己的盘之后就可以用正常的<code>rclone</code>软件之类的和别的网盘比如OneDrive互相同步了，也可以挂载到Linux机器上当虚拟磁盘。<code>rclone</code>功能强大，配置可以直接按照官方文档来。(<a href=https://rclone.org/docs/>使用</a> <a href=https://rclone.org/drive/>添加Google Drive配置实例</a>)</p><h3 id=数据无价备份数据至少做到3-2-1-原则>数据无价。备份数据至少做到：3-2-1 原则</h3><p>3-2-1 原则能保证备份的可靠性与有效性。</p><ul><li><strong>三份</strong>数据拷贝：除了原始的数据之外，要<strong>另存两份数据的备份</strong>。倘若这三个拷贝丢失的概率相互独立（均为 1%），那么三份拷贝同时丢失的概率就仅有 0.0001% 了，这比两个拷贝同时丢失的概率更低。</li><li><strong>两种</strong>存储介质：在同一种类型的存储介质上的数据更有可能同时丢失。比如你在电脑的内置存储器上存了三份数据拷贝，但如果电脑的磁盘彻底损坏、误格式化磁盘或者丢失了电脑，那么这些数据便一同丢失了。在上述案例中，另一种类型的存储介质可以是移动硬盘、SD 卡、U 盘、CD、DVD 等。</li><li><strong>一个</strong>异地备份：多个备份间的物理隔离是很重要的。如果这些备份都放在一个房间里，那么一场火灾就足以毁掉所有的备份。如果条件允许，跨城市（间隔 100km 以上）存储备份就已经很安全了。在家和公司分别存放备份也算作异地备份。</li></ul><p>此外也应该注意备份的<strong>时效性</strong>，如果可能，要尽量缩短备份周期。比如每分钟备份的时效性就强于每小时备份。在数据丢失时，前者只会丢失最近 1 分钟的工作，而后者会丢失最近 1 小时的工作。</p><p><strong>但是，一定要注意，隐私数据尽量断网并且加密保存(可以用自己能信任的开源软件来个AES-256加密)，并且不要在任何情况下上传到任何网络硬盘！</strong></p><p>本机的整机备份推荐<a href=https://www.acronis.com/en-us/personal/computer-backup/>Acronis True Image</a>。记得也要用AES-256加密。如果要直接上传到OneDrive可以设置自动分割到15GB以下的大小。Google Drive好像没单文件大小限制。</p><p>账号众多的话可以考虑使用密码管理软件，常见的有<code>1Password</code>和<code>LastPass</code>。</p><h2 id=延伸>延伸</h2><p>绕过单日750GB的限制除了使用<code>Folderclone</code>和<code>Autorclone</code>还可以用<code>gclone</code>。<code>gclone</code>是<code>rclone</code>的魔改，也是用service account绕过单日文件上限。</p><p><a href=https://github.com/donwa/gclone>gclone项目地址</a></p><p>它的使用效果和<code>Autorclone</code>相同，但是可以同时使用<code>rclone</code>的所有功能(挂载，sync等等)，且方便迁移机器使用，无需重新安装依赖。</p><p>一次配置，可以多机使用。把<code>/root/.config/rclone/rclone.conf</code>配置文件和<code>AutoRclone/accounts/</code>这个文件夹保存好，复制到其他机器上安装好gclone就可以直接使用。</p><p>完成之后的<code>/root/.config/rclone/rclone.conf</code> 文件类似：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>[gd]
type = drive
scope = drive
token = {···}
team_drive = 0ADL3CBy7KBL3Uk9PVA
service_account_file = /root/AutoRclone/accounts/f29dd8d25109880b534f03c56e4bc6e9815b999e.json
service_account_file_path = /root/AutoRclone/accounts/
</code></pre></td></tr></table></div></div></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>Yilin Miao</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2020-06-09</span></p><p class=copyright-item><span class=item-title>License</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/autorclone/>autorclone</a>
<a href=/tags/google-drive/>Google Drive</a></div><nav class=post-nav><a class=next href=/post/caddy2-hugo-git/><span class="next-text nav-default">使用Caddy2承载Hugo并从Github自动更新</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div align=center><span class=copyright-year>&copy; 2020 <a href=https://miaoyl.work/>Yilin Miao</a>.
<a href=https://miaoyl.work/about>About</a>
<a href=https://miaoyl.work/index.xml>RSS</a>
<a href=https://miaoyl.work/sitemap.xml>Sitemap</a>
<script src=https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.min.js></script><script src=https://cdn.jsdelivr.net/npm/instantclick@3.1.0-2/dist/instantclick.min.js data-no-instant></script><script data-no-instant>InstantClick.on('change',function(){init();$('#toc').find("ul").remove();$("body").scrollspy()});InstantClick.init('14');</script></span></div></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.min.js crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.locales.min.js crossorigin=anonymous></script><script>var languageCode="en".replace(/-/g,'_').replace(/_(.*)/,function($0,$1){return $0.replace($1,$1.toUpperCase());});timeago().render(document.querySelectorAll('.timeago'),languageCode);timeago.cancel();</script><script type=text/javascript src=/js/main.min.d7b7ada643c9c1a983026e177f141f7363b4640d619caf01d8831a6718cd44ea.js></script></body></html>